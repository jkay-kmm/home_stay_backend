# Test API với MongoDB Atlas - Full Auth System

### 1. Test validation - Đăng ký với dữ liệu không hợp lệ
POST http://localhost:5000/api/auth/register
Content-Type: application/json

{
  "name": "A",
  "email": "invalid-email", 
  "password": "123"
}

### 2. Đăng ký user mới với dữ liệu hợp lệ
POST http://localhost:5000/api/auth/register
Content-Type: application/json

{
  "name": "Duc Nguyen",
  "email": "duc@example.com", 
  "password": "Password123"
}

### 3. Đăng nhập
POST http://localhost:5000/api/auth/login
Content-Type: application/json

{
  "email": "duc@example.com",
  "password": "Password123"
}

### 4. Lấy thông tin user hiện tại
GET http://localhost:5000/api/auth/me
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 5. Đổi mật khẩu (khi đã đăng nhập)
PUT http://localhost:5000/api/auth/changepassword
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: application/json

{
  "currentPassword": "Password123",
  "newPassword": "NewPassword123",
  "confirmPassword": "NewPassword123"
}

### 6. Quên mật khẩu
POST http://localhost:5000/api/auth/forgotpassword
Content-Type: application/json

{
  "email": "duc@example.com"
}

### 7. Reset mật khẩu (sử dụng token từ forgot password)
PUT http://localhost:5000/api/auth/resetpassword/RESET_TOKEN_HERE
Content-Type: application/json

{
  "password": "ResetPassword123",
  "confirmPassword": "ResetPassword123"
}

### 8. Bắt buộc đổi mật khẩu lần đầu
PUT http://localhost:5000/api/auth/forcechangepassword
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: application/json

{
  "newPassword": "FirstChangePassword123",
  "confirmPassword": "FirstChangePassword123"
}

### 9. Lấy thông tin profile
GET http://localhost:5000/api/users/profile
Authorization: Bearer YOUR_JWT_TOKEN_HERE

### 10. Cập nhật profile
PUT http://localhost:5000/api/users/profile
Authorization: Bearer YOUR_JWT_TOKEN_HERE
Content-Type: application/json

{
  "name": "Duc Updated",
  "email": "duc.updated@example.com"
}